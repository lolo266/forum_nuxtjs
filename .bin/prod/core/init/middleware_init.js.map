{"version":3,"sources":["../../../../server/core/init/middleware_init.js"],"names":["Init","Server","Promise","res","rej","Dir","fs","readdirSync","path","resolve","__dirname","length","forEach","file","JS","exec","Middlewares","push","name","split","e","toString"],"mappings":";;;;;QAIgBA,I,GAAAA,I;;AAJhB;;;;AACA;;;;AACA;;;;;;AAEO,SAASA,IAAT,CAAcC,MAAd,EAAqB;AACxB,WAAO,IAAIC,OAAJ,CAAY,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACnC,YAAI;AACA,gBAAIC,MAAMC,aAAGC,WAAH,CAAeC,eAAKC,OAAL,CAAaC,SAAb,EAAwB,kBAAxB,CAAf,CAAV;AACA,gBAAGL,IAAIM,MAAJ,GAAa,CAAhB,EAAmB,OAAOR,KAAP;;AAEnBE,gBAAIO,OAAJ,CAAYC,QAAQ;AAChB,oBAAIC,KAAK,YAAYC,IAAZ,CAAiBF,IAAjB,CAAT;AACA,oBAAIC,KAAI,CAAE,KAAV,EAAiB,OAAO,KAAP;;AAEjBb,uBAAOe,WAAP,CAAmBC,IAAnB,CAAwB;AACpBC,0BAAML,KAAKM,KAAL,CAAW,KAAX,EAAkB,CAAlB,CADc;AAEpBX,0BAAMA,eAAKC,OAAL,CAAaC,SAAb,EAAyB,oBAAmBG,IAAK,EAAjD;AAFc,iBAAxB;AAIH,aARD;;AAUAV;AACH,SAfD,CAgBA,OAAMiB,CAAN,EAAQ;AACJhB,gBAAIgB,EAAEC,QAAF,EAAJ;AACH;AACJ,KApBM,CAAP;AAqBH","file":"middleware_init.js","sourcesContent":["import fs from 'fs';\r\nimport path from 'path';\r\nimport _ from 'lodash';\r\n\r\nexport function Init(Server){\r\n    return new Promise(async (res, rej) => {\r\n        try {\r\n            let Dir = fs.readdirSync(path.resolve(__dirname, '../../middleware'));\r\n            if(Dir.length < 1) return res();\r\n\r\n            Dir.forEach(file => {\r\n                let JS = /[.js$]+/gm.exec(file);\r\n                if (JS =! '.js') return false;\r\n\r\n                Server.Middlewares.push({\r\n                    name: file.split('.js')[0],\r\n                    path: path.resolve(__dirname, `../../middleware/${file}`)\r\n                });\r\n            });\r\n\r\n            res();\r\n        }\r\n        catch(e){\r\n            rej(e.toString());\r\n        }\r\n    });\r\n}"]}