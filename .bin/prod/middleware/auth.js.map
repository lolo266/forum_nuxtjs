{"version":3,"sources":["../../../server/middleware/auth.js"],"names":["module","exports","req","res","next","cookies","token","jwt","verify","Server","Config","secret","err","decoded","status","send","auth","id"],"mappings":";;AAAA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAG,CAACF,IAAIG,OAAJ,CAAYC,KAAhB,EAAuB,OAAOF,MAAP;;AAEvBG,2BAAIC,MAAJ,CAAWN,IAAIG,OAAJ,CAAYC,KAAvB,EAA8BG,OAAOC,MAAP,CAAcC,MAA5C,EAAoD,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAClE,YAAGD,GAAH,EAAQ,OAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,wBAArB,CAAP;;AAERb,YAAIc,IAAJ,GAAWH,QAAQI,EAAnB;AACAb;AACH,KALD;AAMH,CATD","file":"auth.js","sourcesContent":["import jwt from 'jsonwebtoken';\r\n\r\nmodule.exports = (req, res, next) => {\r\n    if(!req.cookies.token) return next();\r\n\r\n    jwt.verify(req.cookies.token, Server.Config.secret, (err, decoded) => {\r\n        if(err) return res.status(401).send('Lỗi xác thực tài khoản');\r\n\r\n        req.auth = decoded.id;\r\n        next();\r\n    });\r\n}"]}